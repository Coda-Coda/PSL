# PaMpeR (Proof Method Recommendation system)

PaMpeR is an enhancement tool to give proof engineers hints in their work.

- The first part of the system is a feature extraction algorithm which obtains training data from existing Proof.
Users can also create their own training data and modify features they want to use.
Currently the features are all in binary assertion form.

- The second part of the system uses a machine learning result from AFP (Archive of Formal Proof) 
and provides runtime proof method recommendation to user in a proof stage by the keyword Proof_advice.

# List of assertions

## Assertions about existence of objects (rules) in the proof state

- [x] 1. local assumption

- check the existence of rules in the Proof.state that are associated with a constant in the first subgoal.

   - [x] 5. "pinduct" rule associated with a constant in the first subgoal. ("pinduct")

   - [x] 6. "psimps" rule associated with a constant in the first subgoal. ("psimp")

   - [x] 7. "pelims" rule associated with a constant in the first subgoal. ("pelims")

   - [x] 8. "cases" rule associated with a constant in the first subgoal. ("cases")

   - [x] 9. "intro" rule associated with a constant in the first subgoal. ("intros")

   - [x] 10. recursive "simp" rules associated with a constant in the first subgoal. ("simps")
      
   - [x] 12. rules that are generated by a lift_definition and are associated with a constant in the first subgoal. (["abs_eq","rsp","transfer","rep_eq"])

   - [x] 13. rules that are generated by the primcorec and are associated with a constant in the first subgoal. (["code","ctr","sel"])
   
   - [x] 14. rules that are generated by the interpretation command and are associated with in the first subgoal (["cfg_axioms","weakGreibach"]) **TO BE FIXED**

## Assertions about the existence of a constant in the first subgoal

### Assertions about existence of an object: check if the first subgoal has

- [x] 2. a "case_of" constant. ("case_")

- [ ] a record typed variable.

- [ ] a typeclass definition.

- [ ] constant "rel_fun" ("===>") from the transfer package

- [ ] constant "map_fun" ("--->") from the transfer package

- [ ] a schematic variable.

### check if there is a constant with prefix in the first subgoal

- [x] 11. "Num"

- [x] "Real"

- [x] "List"

## Assertions about the all constants appearing in the first subgoal.

- [x] check if all constants are defined in Main

## Assertions about the classification of terms (according to Spec_Rules.retrieve) in the first subgoal.

- [ ] is an "Equational" problem

- [ ] is an "Inductive" problem

- [ ] is a "Co-Inductive" problem

- [ ] is an "Unknown" problem

## Assertions about the outermost construct of the first subgoal.

The first subgoal has ... as the outermost constant

- [ ] 3. "Conjunction" as outmost constant 
   - "HOL.conj"
   - "Pure.conjunction"
   - **TO BE REPLACED WITH MORE PRECISE ASSERTIONS**

- [ ] "==" (meta equality)

- [ ] "=" (HOL equality)

- [ ] "==>" (meta implication)

- [ ] "-->" (HOL implication)

- [ ] "!!" (meta universal quantifier)

- [ ] "!" (HOL universal quantifier)

- [ ] "?" (HOL existential quantifier)

- [x] 15. a function that is not fully applied yet

## Assertions about the existence of constants not as the outermost constant of the first subgoal

The first subgoal has ... but not as the outermost constant.

- [ ] "==" (meta equality)

- [ ] "=" (HOL equality)

- [ ] "==>" (meta implication)

- [ ] "-->" (HOL implication)

- [ ] "!!" (meta universal quantifier)

- [ ] "!" (HOL universal quantifier)

- [ ] "?" (HOL existential quantifier)

- [ ] a function that is not fully applied yet

## Possible future assertions:

- [ ] Expanding into integer feature:

   - [ ] number of subgoals

   - [ ] length of proof obligation when presented as a string by Isabelle's pretty printer

